{
    "instance_id": "django__django-14765",
    "agent": "20250117_wandb_programmer_o1_crosscheck5",
    "agent_patch": {
        "django/db/migrations/state.py": "index 088f5c41f0..7690ac596f 100644\n \n     def __init__(self, models=None, real_apps=None):\n         self.models = models or {}\nif real_apps is not None:\nassert isinstance(real_apps, set), \"real_apps must be a set.\"\nself.real_apps = real_apps\n         else:\n             self.real_apps = set()\n         self.is_delayed = False\n         self.relations = None\n\n \n     def add_model(self, model_state):\n         app_label, model_name = model_state.app_label, model_state.name_lower\n",
        "test_real_apps_assertion.py": "new file mode 100644\nindex 0000000000..38db1ca97a\n#!/usr/bin/env python3\nimport sys\nimport traceback\n\ndef main():\nprint(\"Checking if ProjectState raises AssertionError when real_apps is a list.\")\nfrom django.db.migrations.state import ProjectState\n\ntry:\nstate = ProjectState(real_apps=[\"some_app\"])\nprint(\"No assertion error encountered, fix not present.\")\nsys.exit(1)\nexcept AssertionError:\nprint(\"AssertionError encountered as expected, fix is present.\")\nsys.exit(0)\nexcept Exception as e:\nprint(\"Unexpected exception encountered:\")\ntraceback.print_exc()\nsys.exit(2)\n\nif __name__ == \"__main__\":\nmain()\n"
    },
    "ground_truth_patch": {
        "django/db/migrations/state.py": "     def __init__(self, models=None, real_apps=None):\n         self.models = models or {}\n         # Apps to include from main registry, usually unmigrated ones\nif real_apps is None:\nreal_apps = set()\n         else:\nassert isinstance(real_apps, set)\nself.real_apps = real_apps\n         self.is_delayed = False\n         # {remote_model_key: {model_key: [(field_name, field)]}}\n         self.relations = None\n"
    },
    "response": "{\"explanation\": \"The code in code sample 1 defines an `__init__` method for a class (likely `ProjectState`) that initializes its attributes, including a `real_apps` parameter which should be a set. It includes an assertion to ensure that if `real_apps` is provided, it must be of type set. If `real_apps` is not provided, it defaults to an empty set. This code also defines an `add_model` method that utilizes the `app_label` and `model_name` from `model_state`. The code sample 2 is a partial snippet from `state.py` that appears to show the same `__init__` method with some comments. It similarly handles the `real_apps` parameter, checking if it's None to initialize it as an empty set. However, it enforces assert statements differently and emphasizes comments about the model attributes. Thus, both samples serve a similar purpose revolving around initializing application state related to Django models, but vary in comments and the assertion style.\", \"is_clone\": true, \"classification\": \"type-2\", \"reasoning\": \"These code samples are type-2 clones because they contain differences in comments and some variations in the assertion logic, even though they perform the same logical function in initializing the `real_apps` attribute, and they exhibit similar structure.\"}"
}