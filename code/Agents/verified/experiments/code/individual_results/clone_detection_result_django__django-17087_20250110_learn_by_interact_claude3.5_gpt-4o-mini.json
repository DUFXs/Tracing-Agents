{
    "instance_id": "django__django-17087",
    "agent": "20250110_learn_by_interact_claude3.5",
    "agent_patch": {
        "db.sqlite3": "new file mode 100644\nindex 0000000000..e69de29bb2\n",
        "django/db/migrations/serializer.py": "index d88cda6e20..a62f5bb9b1 100644\n         ):\n             klass = self.value.__self__\n             module = klass.__module__\nreturn \"%s.%s.%s\" % (module, klass.__qualname__, self.value.__name__), {\n                 \"import %s\" % module\n             }\n         # Further error checking\n         \"migration files.\\nFor more, see https://docs.djangoproject.com/en/%s/\"\n         \"topics/migrations/#migration-serializing\" % (value, get_docs_version())\n     )\n\n",
        "reproduce.py": "new file mode 100644\nindex 0000000000..e7dfe44a01\nimport os\nos.environ.setdefault('DJANGO_SETTINGS_MODULE', 'reproduce_settings')\n\n# Create settings file first\nSETTINGS = '''\nSECRET_KEY = 'dummy'\nINSTALLED_APPS = [\n'django.contrib.contenttypes',\n'django.contrib.auth',\n'reproduce',\n]\nDATABASES = {\n'default': {\n'ENGINE': 'django.db.backends.sqlite3',\n'NAME': 'db.sqlite3',\n}\n}\n'''\n\nwith open('reproduce_settings.py', 'w') as f:\nf.write(SETTINGS)\n\n# Create models.py file\nMODELS = '''\nfrom django.db import models\n\nclass Profile(models.Model):\nclass Capability(models.TextChoices):\nBASIC = (\"BASIC\", \"Basic\")\nPROFESSIONAL = (\"PROFESSIONAL\", \"Professional\")\n\n@classmethod\ndef default(cls) -> str:\nreturn cls.BASIC\n\ncapability = models.CharField(\nmax_length=30,\nchoices=Capability.choices,\ndefault=Capability.default,\n)\n'''\n\nos.makedirs('reproduce', exist_ok=True)\nos.makedirs('reproduce/migrations', exist_ok=True)\n\nwith open('reproduce/models.py', 'w') as f:\nf.write(MODELS)\n\n# Create __init__.py\nwith open('reproduce/__init__.py', 'w') as f:\nf.write('')\n\nimport django\ndjango.setup()\n\n# Force migration creation\nfrom django.core.management import execute_from_command_line\nexecute_from_command_line(['manage.py', 'makemigrations', 'reproduce'])\n\n",
        "reproduce/__init__.py": "new file mode 100644\nindex 0000000000..e69de29bb2\n",
        "reproduce/migrations/0001_initial.py": "new file mode 100644\nindex 0000000000..4b9a096bd6\n# Generated by Django 5.0.dev20230717182637 on 2025-01-10 07:50\n\nimport reproduce.models\nfrom django.db import migrations, models\n\n\nclass Migration(migrations.Migration):\n\ninitial = True\n\ndependencies = []\n\noperations = [\nmigrations.CreateModel(\nname=\"Profile\",\nfields=[\n(\n\"id\",\nmodels.AutoField(\nauto_created=True,\nprimary_key=True,\nserialize=False,\nverbose_name=\"ID\",\n),\n),\n(\n\"capability\",\nmodels.CharField(\nchoices=[(\"BASIC\", \"Basic\"), (\"PROFESSIONAL\", \"Professional\")],\ndefault=reproduce.models.Profile.Capability.default,\nmax_length=30,\n),\n),\n],\n),\n]\n",
        "reproduce/migrations/__init__.py": "new file mode 100644\nindex 0000000000..e69de29bb2\n",
        "reproduce/models.py": "new file mode 100644\nindex 0000000000..256b072f75\n\nfrom django.db import models\n\nclass Profile(models.Model):\nclass Capability(models.TextChoices):\nBASIC = (\"BASIC\", \"Basic\")\nPROFESSIONAL = (\"PROFESSIONAL\", \"Professional\")\n\n@classmethod\ndef default(cls) -> str:\nreturn cls.BASIC\n\ncapability = models.CharField(\nmax_length=30,\nchoices=Capability.choices,\ndefault=Capability.default,\n)\n",
        "reproduce_settings.py": "new file mode 100644\nindex 0000000000..ed6fd5fcbf\n\nSECRET_KEY = 'dummy'\nINSTALLED_APPS = [\n'django.contrib.contenttypes',\n'django.contrib.auth',\n'reproduce',\n]\nDATABASES = {\n'default': {\n'ENGINE': 'django.db.backends.sqlite3',\n'NAME': 'db.sqlite3',\n}\n}\n"
    },
    "ground_truth_patch": {
        "django/db/migrations/serializer.py": "         ):\n             klass = self.value.__self__\n             module = klass.__module__\nreturn \"%s.%s.%s\" % (module, klass.__qualname__, self.value.__name__), {\n                 \"import %s\" % module\n             }\n         # Further error checking\n"
    },
    "response": "{\"is_clone\": true, \"classification\": \"type-1\", \"reasoning\": \"These code samples are type-1 clones because they are identical in their functionality and structure except for differences in whitespace, layout, and comments.\"}"
}